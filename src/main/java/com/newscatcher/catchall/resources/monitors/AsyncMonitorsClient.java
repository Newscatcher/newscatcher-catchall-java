/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.newscatcher.catchall.resources.monitors;

import com.newscatcher.catchall.core.ClientOptions;
import com.newscatcher.catchall.core.RequestOptions;
import com.newscatcher.catchall.resources.monitors.requests.CreateMonitorRequestDto;
import com.newscatcher.catchall.resources.monitors.requests.DisableMonitorRequest;
import com.newscatcher.catchall.resources.monitors.requests.EnableMonitorRequest;
import com.newscatcher.catchall.resources.monitors.requests.ListMonitorJobsRequest;
import com.newscatcher.catchall.resources.monitors.requests.PullMonitorResultsRequest;
import com.newscatcher.catchall.resources.monitors.requests.UpdateMonitorRequestDto;
import com.newscatcher.catchall.resources.monitors.types.DisableMonitorResponse;
import com.newscatcher.catchall.resources.monitors.types.EnableMonitorResponse;
import com.newscatcher.catchall.resources.monitors.types.ListMonitorJobsResponse;
import com.newscatcher.catchall.types.CreateMonitorResponseDto;
import com.newscatcher.catchall.types.ListMonitorsResponseDto;
import com.newscatcher.catchall.types.PullMonitorResponseDto;
import com.newscatcher.catchall.types.UpdateMonitorResponseDto;
import java.util.concurrent.CompletableFuture;

public class AsyncMonitorsClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawMonitorsClient rawClient;

    public AsyncMonitorsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawMonitorsClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawMonitorsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Create a monitor that runs jobs based on a reference job with a specified schedule.
     * <p><strong>Reference job requirements:</strong></p>
     * <ul>
     * <li>Job's <code>end_date</code> must be within the last 7 days</li>
     * </ul>
     * <p><strong>Schedule requirements:</strong></p>
     * <ul>
     * <li>Minimum 24-hour interval between executions</li>
     * <li>Natural language format (e.g., &quot;every day at 12 PM UTC&quot;, &quot;every 48 hours&quot;)</li>
     * </ul>
     * <p><strong>Validation:</strong></p>
     * <ul>
     * <li>Reference jobs older than 7 days return 400 Bad Request.</li>
     * <li>Schedules below minimum frequency return error with descriptive message.</li>
     * <li>Invalid job IDs return 400 Bad Request.</li>
     * <li>Duplicate monitors (same job already monitored) return error.</li>
     * </ul>
     */
    public CompletableFuture<CreateMonitorResponseDto> createMonitor(CreateMonitorRequestDto request) {
        return this.rawClient.createMonitor(request).thenApply(response -> response.body());
    }

    /**
     * Create a monitor that runs jobs based on a reference job with a specified schedule.
     * <p><strong>Reference job requirements:</strong></p>
     * <ul>
     * <li>Job's <code>end_date</code> must be within the last 7 days</li>
     * </ul>
     * <p><strong>Schedule requirements:</strong></p>
     * <ul>
     * <li>Minimum 24-hour interval between executions</li>
     * <li>Natural language format (e.g., &quot;every day at 12 PM UTC&quot;, &quot;every 48 hours&quot;)</li>
     * </ul>
     * <p><strong>Validation:</strong></p>
     * <ul>
     * <li>Reference jobs older than 7 days return 400 Bad Request.</li>
     * <li>Schedules below minimum frequency return error with descriptive message.</li>
     * <li>Invalid job IDs return 400 Bad Request.</li>
     * <li>Duplicate monitors (same job already monitored) return error.</li>
     * </ul>
     */
    public CompletableFuture<CreateMonitorResponseDto> createMonitor(
            CreateMonitorRequestDto request, RequestOptions requestOptions) {
        return this.rawClient.createMonitor(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Update webhook configuration for an existing monitor without recreating it.
     * <p><strong>Supported updates:</strong></p>
     * <ul>
     * <li>Webhook URL</li>
     * <li>HTTP method (POST/PUT)</li>
     * <li>Headers and authentication</li>
     * <li>Query parameters</li>
     * </ul>
     * <p><strong>Note:</strong> Schedule and reference job cannot be modified. To change these, create a new monitor.</p>
     */
    public CompletableFuture<UpdateMonitorResponseDto> updateMonitor(String monitorId) {
        return this.rawClient.updateMonitor(monitorId).thenApply(response -> response.body());
    }

    /**
     * Update webhook configuration for an existing monitor without recreating it.
     * <p><strong>Supported updates:</strong></p>
     * <ul>
     * <li>Webhook URL</li>
     * <li>HTTP method (POST/PUT)</li>
     * <li>Headers and authentication</li>
     * <li>Query parameters</li>
     * </ul>
     * <p><strong>Note:</strong> Schedule and reference job cannot be modified. To change these, create a new monitor.</p>
     */
    public CompletableFuture<UpdateMonitorResponseDto> updateMonitor(String monitorId, RequestOptions requestOptions) {
        return this.rawClient.updateMonitor(monitorId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Update webhook configuration for an existing monitor without recreating it.
     * <p><strong>Supported updates:</strong></p>
     * <ul>
     * <li>Webhook URL</li>
     * <li>HTTP method (POST/PUT)</li>
     * <li>Headers and authentication</li>
     * <li>Query parameters</li>
     * </ul>
     * <p><strong>Note:</strong> Schedule and reference job cannot be modified. To change these, create a new monitor.</p>
     */
    public CompletableFuture<UpdateMonitorResponseDto> updateMonitor(
            String monitorId, UpdateMonitorRequestDto request) {
        return this.rawClient.updateMonitor(monitorId, request).thenApply(response -> response.body());
    }

    /**
     * Update webhook configuration for an existing monitor without recreating it.
     * <p><strong>Supported updates:</strong></p>
     * <ul>
     * <li>Webhook URL</li>
     * <li>HTTP method (POST/PUT)</li>
     * <li>Headers and authentication</li>
     * <li>Query parameters</li>
     * </ul>
     * <p><strong>Note:</strong> Schedule and reference job cannot be modified. To change these, create a new monitor.</p>
     */
    public CompletableFuture<UpdateMonitorResponseDto> updateMonitor(
            String monitorId, UpdateMonitorRequestDto request, RequestOptions requestOptions) {
        return this.rawClient.updateMonitor(monitorId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Returns all jobs associated with a monitor, sorted by start_date.
     * Each job includes job_id, start_date, and end_date.
     */
    public CompletableFuture<ListMonitorJobsResponse> listMonitorJobs(String monitorId) {
        return this.rawClient.listMonitorJobs(monitorId).thenApply(response -> response.body());
    }

    /**
     * Returns all jobs associated with a monitor, sorted by start_date.
     * Each job includes job_id, start_date, and end_date.
     */
    public CompletableFuture<ListMonitorJobsResponse> listMonitorJobs(String monitorId, RequestOptions requestOptions) {
        return this.rawClient.listMonitorJobs(monitorId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Returns all jobs associated with a monitor, sorted by start_date.
     * Each job includes job_id, start_date, and end_date.
     */
    public CompletableFuture<ListMonitorJobsResponse> listMonitorJobs(
            String monitorId, ListMonitorJobsRequest request) {
        return this.rawClient.listMonitorJobs(monitorId, request).thenApply(response -> response.body());
    }

    /**
     * Returns all jobs associated with a monitor, sorted by start_date.
     * Each job includes job_id, start_date, and end_date.
     */
    public CompletableFuture<ListMonitorJobsResponse> listMonitorJobs(
            String monitorId, ListMonitorJobsRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .listMonitorJobs(monitorId, request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Retrieve aggregated results from all jobs executed by this monitor.
     * Includes monitor configuration, execution history, and all records collected.
     */
    public CompletableFuture<PullMonitorResponseDto> pullMonitorResults(String monitorId) {
        return this.rawClient.pullMonitorResults(monitorId).thenApply(response -> response.body());
    }

    /**
     * Retrieve aggregated results from all jobs executed by this monitor.
     * Includes monitor configuration, execution history, and all records collected.
     */
    public CompletableFuture<PullMonitorResponseDto> pullMonitorResults(
            String monitorId, RequestOptions requestOptions) {
        return this.rawClient.pullMonitorResults(monitorId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieve aggregated results from all jobs executed by this monitor.
     * Includes monitor configuration, execution history, and all records collected.
     */
    public CompletableFuture<PullMonitorResponseDto> pullMonitorResults(
            String monitorId, PullMonitorResultsRequest request) {
        return this.rawClient.pullMonitorResults(monitorId, request).thenApply(response -> response.body());
    }

    /**
     * Retrieve aggregated results from all jobs executed by this monitor.
     * Includes monitor configuration, execution history, and all records collected.
     */
    public CompletableFuture<PullMonitorResponseDto> pullMonitorResults(
            String monitorId, PullMonitorResultsRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .pullMonitorResults(monitorId, request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Disables a monitor to stop executing scheduled jobs.
     * Validates that the provided API key is associated with the monitor.
     */
    public CompletableFuture<DisableMonitorResponse> disableMonitor(String monitorId) {
        return this.rawClient.disableMonitor(monitorId).thenApply(response -> response.body());
    }

    /**
     * Disables a monitor to stop executing scheduled jobs.
     * Validates that the provided API key is associated with the monitor.
     */
    public CompletableFuture<DisableMonitorResponse> disableMonitor(String monitorId, RequestOptions requestOptions) {
        return this.rawClient.disableMonitor(monitorId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Disables a monitor to stop executing scheduled jobs.
     * Validates that the provided API key is associated with the monitor.
     */
    public CompletableFuture<DisableMonitorResponse> disableMonitor(String monitorId, DisableMonitorRequest request) {
        return this.rawClient.disableMonitor(monitorId, request).thenApply(response -> response.body());
    }

    /**
     * Disables a monitor to stop executing scheduled jobs.
     * Validates that the provided API key is associated with the monitor.
     */
    public CompletableFuture<DisableMonitorResponse> disableMonitor(
            String monitorId, DisableMonitorRequest request, RequestOptions requestOptions) {
        return this.rawClient.disableMonitor(monitorId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Enables a monitor to resume executing scheduled jobs.
     * Validates that the provided API key is associated with the monitor.
     */
    public CompletableFuture<EnableMonitorResponse> enableMonitor(String monitorId) {
        return this.rawClient.enableMonitor(monitorId).thenApply(response -> response.body());
    }

    /**
     * Enables a monitor to resume executing scheduled jobs.
     * Validates that the provided API key is associated with the monitor.
     */
    public CompletableFuture<EnableMonitorResponse> enableMonitor(String monitorId, RequestOptions requestOptions) {
        return this.rawClient.enableMonitor(monitorId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Enables a monitor to resume executing scheduled jobs.
     * Validates that the provided API key is associated with the monitor.
     */
    public CompletableFuture<EnableMonitorResponse> enableMonitor(String monitorId, EnableMonitorRequest request) {
        return this.rawClient.enableMonitor(monitorId, request).thenApply(response -> response.body());
    }

    /**
     * Enables a monitor to resume executing scheduled jobs.
     * Validates that the provided API key is associated with the monitor.
     */
    public CompletableFuture<EnableMonitorResponse> enableMonitor(
            String monitorId, EnableMonitorRequest request, RequestOptions requestOptions) {
        return this.rawClient.enableMonitor(monitorId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Returns all monitors created by the authenticated user.
     */
    public CompletableFuture<ListMonitorsResponseDto> listMonitors() {
        return this.rawClient.listMonitors().thenApply(response -> response.body());
    }

    /**
     * Returns all monitors created by the authenticated user.
     */
    public CompletableFuture<ListMonitorsResponseDto> listMonitors(RequestOptions requestOptions) {
        return this.rawClient.listMonitors(requestOptions).thenApply(response -> response.body());
    }
}
