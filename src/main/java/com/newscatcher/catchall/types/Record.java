/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.newscatcher.catchall.types;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.newscatcher.catchall.core.ObjectMappers;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import org.jetbrains.annotations.NotNull;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(builder = Record.Builder.class)
public final class Record {
    private final String recordId;

    private final String recordTitle;

    private final Map<String, Object> enrichment;

    private final List<Citation> citations;

    private final Map<String, Object> additionalProperties;

    private Record(
            String recordId,
            String recordTitle,
            Map<String, Object> enrichment,
            List<Citation> citations,
            Map<String, Object> additionalProperties) {
        this.recordId = recordId;
        this.recordTitle = recordTitle;
        this.enrichment = enrichment;
        this.citations = citations;
        this.additionalProperties = additionalProperties;
    }

    /**
     * @return Unique identifier for the record.
     */
    @JsonProperty("record_id")
    public String getRecordId() {
        return recordId;
    }

    /**
     * @return Short title summarizing the record.
     */
    @JsonProperty("record_title")
    public String getRecordTitle() {
        return recordTitle;
    }

    /**
     * @return Structured data extracted from articles. Schema is dynamically generated per job. Field names are chosen semantically to match the content.
     * <p>See <a href="https://www.newscatcherapi.com/docs/v3/catch-all/overview/dynamic-schemas">Understanding dynamic schemas</a> for integration guidance.</p>
     */
    @JsonProperty("enrichment")
    public Map<String, Object> getEnrichment() {
        return enrichment;
    }

    /**
     * @return Source articles that were used to extract this record.
     */
    @JsonProperty("citations")
    public List<Citation> getCitations() {
        return citations;
    }

    @java.lang.Override
    public boolean equals(Object other) {
        if (this == other) return true;
        return other instanceof Record && equalTo((Record) other);
    }

    @JsonAnyGetter
    public Map<String, Object> getAdditionalProperties() {
        return this.additionalProperties;
    }

    private boolean equalTo(Record other) {
        return recordId.equals(other.recordId)
                && recordTitle.equals(other.recordTitle)
                && enrichment.equals(other.enrichment)
                && citations.equals(other.citations);
    }

    @java.lang.Override
    public int hashCode() {
        return Objects.hash(this.recordId, this.recordTitle, this.enrichment, this.citations);
    }

    @java.lang.Override
    public String toString() {
        return ObjectMappers.stringify(this);
    }

    public static RecordIdStage builder() {
        return new Builder();
    }

    public interface RecordIdStage {
        /**
         * <p>Unique identifier for the record.</p>
         */
        RecordTitleStage recordId(@NotNull String recordId);

        Builder from(Record other);
    }

    public interface RecordTitleStage {
        /**
         * <p>Short title summarizing the record.</p>
         */
        _FinalStage recordTitle(@NotNull String recordTitle);
    }

    public interface _FinalStage {
        Record build();

        /**
         * <p>Structured data extracted from articles. Schema is dynamically generated per job. Field names are chosen semantically to match the content.</p>
         * <p>See <a href="https://www.newscatcherapi.com/docs/v3/catch-all/overview/dynamic-schemas">Understanding dynamic schemas</a> for integration guidance.</p>
         */
        _FinalStage enrichment(Map<String, Object> enrichment);

        _FinalStage putAllEnrichment(Map<String, Object> enrichment);

        _FinalStage enrichment(String key, Object value);

        /**
         * <p>Source articles that were used to extract this record.</p>
         */
        _FinalStage citations(List<Citation> citations);

        _FinalStage addCitations(Citation citations);

        _FinalStage addAllCitations(List<Citation> citations);
    }

    @JsonIgnoreProperties(ignoreUnknown = true)
    public static final class Builder implements RecordIdStage, RecordTitleStage, _FinalStage {
        private String recordId;

        private String recordTitle;

        private List<Citation> citations = new ArrayList<>();

        private Map<String, Object> enrichment = new LinkedHashMap<>();

        @JsonAnySetter
        private Map<String, Object> additionalProperties = new HashMap<>();

        private Builder() {}

        @java.lang.Override
        public Builder from(Record other) {
            recordId(other.getRecordId());
            recordTitle(other.getRecordTitle());
            enrichment(other.getEnrichment());
            citations(other.getCitations());
            return this;
        }

        /**
         * <p>Unique identifier for the record.</p>
         * <p>Unique identifier for the record.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("record_id")
        public RecordTitleStage recordId(@NotNull String recordId) {
            this.recordId = Objects.requireNonNull(recordId, "recordId must not be null");
            return this;
        }

        /**
         * <p>Short title summarizing the record.</p>
         * <p>Short title summarizing the record.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("record_title")
        public _FinalStage recordTitle(@NotNull String recordTitle) {
            this.recordTitle = Objects.requireNonNull(recordTitle, "recordTitle must not be null");
            return this;
        }

        /**
         * <p>Source articles that were used to extract this record.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage addAllCitations(List<Citation> citations) {
            if (citations != null) {
                this.citations.addAll(citations);
            }
            return this;
        }

        /**
         * <p>Source articles that were used to extract this record.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage addCitations(Citation citations) {
            this.citations.add(citations);
            return this;
        }

        /**
         * <p>Source articles that were used to extract this record.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "citations", nulls = Nulls.SKIP)
        public _FinalStage citations(List<Citation> citations) {
            this.citations.clear();
            if (citations != null) {
                this.citations.addAll(citations);
            }
            return this;
        }

        /**
         * <p>Structured data extracted from articles. Schema is dynamically generated per job. Field names are chosen semantically to match the content.</p>
         * <p>See <a href="https://www.newscatcherapi.com/docs/v3/catch-all/overview/dynamic-schemas">Understanding dynamic schemas</a> for integration guidance.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage enrichment(String key, Object value) {
            this.enrichment.put(key, value);
            return this;
        }

        /**
         * <p>Structured data extracted from articles. Schema is dynamically generated per job. Field names are chosen semantically to match the content.</p>
         * <p>See <a href="https://www.newscatcherapi.com/docs/v3/catch-all/overview/dynamic-schemas">Understanding dynamic schemas</a> for integration guidance.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage putAllEnrichment(Map<String, Object> enrichment) {
            if (enrichment != null) {
                this.enrichment.putAll(enrichment);
            }
            return this;
        }

        /**
         * <p>Structured data extracted from articles. Schema is dynamically generated per job. Field names are chosen semantically to match the content.</p>
         * <p>See <a href="https://www.newscatcherapi.com/docs/v3/catch-all/overview/dynamic-schemas">Understanding dynamic schemas</a> for integration guidance.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "enrichment", nulls = Nulls.SKIP)
        public _FinalStage enrichment(Map<String, Object> enrichment) {
            this.enrichment.clear();
            if (enrichment != null) {
                this.enrichment.putAll(enrichment);
            }
            return this;
        }

        @java.lang.Override
        public Record build() {
            return new Record(recordId, recordTitle, enrichment, citations, additionalProperties);
        }
    }
}
